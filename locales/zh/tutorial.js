window.addEventListener("load",()=>{localStorage.seenNotice||showNotice(),localStorage.returningUser||activateTutorial()});const TutorialDiv=document.getElementById("tutorial");function activateTutorial(){if(localStorage.returningUser=!0,TutorialDiv&&TutorialDiv.innerHTML)return;AboutSwitch.checked&&AboutSwitch.click();const t=document.createElement("template");t.innerHTML="\n    <div class=\"tut_cont\">\n      <div id=\"t_step0\">\n        <h1>嘿！ 看来您是新来的。 您要教程吗？</h1>\n        <button onclick=\"tutorialSteps(0)\">是的，请！</button>\n        <button onclick=\"dataLayer.push({event:'close_tutorial'});document.getElementById('tutorial').innerHTML = '';new ErrorHandler('如果您再次需要我，请单击“关于”部分中的教程按钮！',true);\">不，谢谢。</button>\n      </div>\n    </div>\n  ",TutorialDiv.append(t.content.cloneNode(!0))}function tutorialSteps(t){switch(dataLayer.push({event:"do_tutorial",value:t}),String(t)){case"0":{TutorialDiv.innerHTML="";let t=document.createElement("template");t.innerHTML='\n            <div class="tut_cont">\n              <div id="t_step1">\n                <h1>在这里，您输入主机的Kahoot游戏中的游戏PIN。 如果您有挑战链接，也可以将其作为图钉。 要加入每周kahoots，请使用“ weekly”和“ weekly-previous”</h1>\n                <p>在本教程的最后，您还可以了解为什么Kahoot Winner可能不会一直赢。</p>\n                <button onclick="tutorialSteps(1);">下一个</button>\n                <button onclick="document.getElementById(\'tutorial\').innerHTML = \'\';new ErrorHandler(\'如果您再次需要我，请单击“关于”部分中的教程按钮！\',true);">完成</button>\n              </div>\n            </div>\n          ',TutorialDiv.append(t.content.cloneNode(!0));break}case"1":{new LoginPage(!0),TutorialDiv.innerHTML="";let t=document.createElement("template");t.innerHTML='\n            <div class="tut_cont">\n              <div id="t_step1">\n                <h1>输入有效的密码后，您可以选择自己的名字，也可以随机获得一个。</h1>\n                <button onclick="tutorialSteps(2)">下一个</button>\n                <button onclick="tutorialSteps(10)">完成</button>\n              </div>\n            </div>\n          ',TutorialDiv.append(t.content.cloneNode(!0));break}case"2":{SettingSwitch.click(),TutorialDiv.style.zIndex=1e3,TutorialDiv.innerHTML="";let t=document.createElement("template");t.innerHTML='\n            <div class="tut_cont">\n              <div id="t_step3">\n                <h1>这是您可以更改的设置。 您可以通过单击右下角的齿轮或按（ESC）来访问此菜单。</h1>\n                <button onclick="tutorialSteps(3)">下一个</button>\n                <button onclick="tutorialSteps(10)">完成</button>\n              </div>\n            </div>\n          ',TutorialDiv.append(t.content.cloneNode(!0));break}case"3":{SettingSwitch.checked||SettingSwitch.click(),TutorialDiv.innerHTML="";let t=document.createElement("template");t.innerHTML='\n            <div class="tut_cont">\n              <div id="t_step4">\n                <p>这些设置可帮助服务器找到您正在玩的测验。 如果您知道这些信息，将其放在此处将大有帮助。</p>\n                <button onclick="tutorialSteps(4)">下一个</button>\n                <button onclick="tutorialSteps(10)">完成</button>\n              </div>\n            </div>\n          ',TutorialDiv.append(t.content.cloneNode(!0));break}case"4":{SettingSwitch.checked||SettingSwitch.click(),TutorialDiv.innerHTML="";let t=document.createElement("template");t.innerHTML='\n            <div class="tut_cont">\n              <div id="t_step5">\n                <h1>这些设置控制游戏体验。</h1>\n                <p>回答超时-在服务器回答问题之前设置一个计时器。 这应该有助于减少您的可疑程度。</p>\n                <p>团队成员-为团队模式自定义您的团队成员！</p>\n                <p>绕过2FA-如果启用了2因素验证，则自动登录。</p>\n                <p>故意失败-有时会回答不正确。 与手动控制不兼容</p>\n                <p>手动控制-使您能够回答Kahoots。 这在服务器可能尚未找到测验的开始时特别有用。</p>\n                <p>预览问题-允许您预先查看问题和答案。</p>\n                <p>松散搜索-使服务器松散地搜索测验，这意味着您可以找到具有随机问题顺序的测验。</p>\n                <p>隐藏正确-本质上使“手动控制”的感觉与使用常规“ Kahoot”页面时的感觉相同。</p>\n                <h3>挑战选项</h3>\n                <p>点数-自定义每个问题的点数</p>\n                <p>始终正确-即使错误，也始终获得正确的答案。 （与手动控制一起使用）</p>\n                <p>禁用自动播放-等待继续下一个问题，而不是自动播放。</p>\n                <button onclick="tutorialSteps(5)">下一个</button>\n                <button onclick="tutorialSteps(10)">完成</button>\n              </div>\n            </div>\n          ',TutorialDiv.append(t.content.cloneNode(!0));break}case"5":{SettingSwitch.checked&&SettingSwitch.click(),game.question={type:"quiz",index:0,data:[{answer:"正确",correct:!0},{answer:"不正确的",correct:!1},{answer:"讲解",correct:!1},{answer:"",correct:!1,image:{id:"dfa9fc36-1122-4dc2-a00b-04d490c07765"}}],total:"42.069",currentGuesses:[{questions:[{time:2e4}]}]},game.question.ans=[game.question.data.length],game.score=-1/0,game.name="讲解",game.pin="12345-LUGGAGE",new QuestionAnswererPage,activateLoading(!1),TutorialDiv.innerHTML="",TutorialDiv.style.zIndex=0;let t=document.createElement("template");t.innerHTML='\n            <div class="tut_cont">\n              <div id="t_step6">\n                <h1>这是答案页面的样子。</h1>\n                <button onclick="tutorialSteps(6)">下一个</button>\n                <button onclick="tutorialSteps(10)">完成</button>\n              </div>\n            </div>\n          ',TutorialDiv.append(t.content.cloneNode(!0));break}case"6":{TutorialDiv.innerHTML="";let t=document.createElement("template");t.innerHTML='\n            <div class="tut_cont">\n              <div id="t_step6">\n                <h1>服务器认为在屏幕上的答案文本显示在图形上方。</h1>\n                <button onclick="tutorialSteps(7)">下一个</button>\n                <button onclick="tutorialSteps(10)">完成</button>\n              </div>\n            </div>\n          ',TutorialDiv.append(t.content.cloneNode(!0));break}case"7":{TutorialDiv.innerHTML="";let t=document.createElement("template");t.innerHTML='\n            <div class="tut_cont">\n              <div id="t_step8">\n                <h1>正确答案以彩虹边框突出显示。</h1>\n                <button onclick="tutorialSteps(8)">下一个</button>\n                <button onclick="tutorialSteps(10)">完成</button>\n              </div>\n            </div>\n          ',TutorialDiv.append(t.content.cloneNode(!0));break}case"8":{TutorialDiv.innerHTML="";let t=document.createElement("template");t.innerHTML='\n            <div class="tut_cont">\n              <div id="t_step9">\n                <h1>使用图像的答案将替换形状。</h1>\n                <button onclick="tutorialSteps(9)">下一个</button>\n                <button onclick="tutorialSteps(10)">完成</button>\n              </div>\n            </div>\n          ',TutorialDiv.append(t.content.cloneNode(!0));break}case"9":{game.end={info:{rank:1}},new QuizEndPage(JSON.stringify({metal:"gold"})),TutorialDiv.innerHTML="";let t=document.createElement("template");t.innerHTML='\n            <div class="tut_cont">\n              <div id="t_step9">\n                <h1>现在，赢了！</h1>\n                <button onclick="tutorialSteps(11)">kahoot赢家的常见问题</button>\n                <button onclick="tutorialSteps(10)">我们走吧！</button>\n              </div>\n            </div>\n          ',TutorialDiv.append(t.content.cloneNode(!0));break}case"11":{TutorialDiv.innerHTML="";let t=document.createElement("template");t.innerHTML='\n          <div class="tut_cont">\n            <div id="t_step11">\n              <h1>我经常被问到为什么它回答不正确。</h1>\n              <p>最近，Kahoot！ 从发送给客户端的测验名称中删除。 尽可能在上方的输入框中输入测验名称。</p>\n              <p>大多数情况下，这是因为测验是私人测验（无法在“发现”中找到）</p>\n              <p>无法获得现场主持的私人测验的答案。 挑战仍然可以。</p>\n              <p>阻止其找到测验的另一个原因是您加入游戏较晚。 在这种情况下，您必须提供测验的确切名称，否则服务器不知道要搜索什么。</p>\n              <p>有时，主持人会随机分配问题。 在这种情况下，请启用“宽松搜索”并事先输入问题。</p>\n              <p>另外，主机可以启用随机答案。 如果是这种情况，只需进行手动控制并为服务器回答即可。</p>\n              <button onclick="tutorialSteps(10)">得到它了。</button>\n            </div>\n          </div>\n        ',TutorialDiv.append(t.content.cloneNode(!0));break}case"10":TutorialDiv.innerHTML="",resetGame(),dataLayer.push({event:"complete_tutorial"}),setTimeout((function(){return new ErrorHandler("完成教程！ 要走的路！",!0)}),300)}}function showNotice(){localStorage.seenNotice=!0;const t=document.createElement("template");t.innerHTML='<div class="notice">\n    <button onclick="document.querySelector(\'.notice\').outerHTML = \'\';">OK</button>\n    <h3><b>重要通知: </b><span class="red">Kahoot不再将测验名称发送给客户端。</span></h3>\n    <h4>这是什么意思？</h4>\n    <p>现在，您需要自己输入测验名称。 如果测验非常受欢迎，您可能会很幸运，因为我们现在将已播放的Kahoot测验存储在数据库中。</p>\n    <p>您可以将测验名称放在顶部的输入中：</p>\n    <div>\n      <img src="/resource/misc/notice-2020-07-03.png" alt="input at the top">\n    </div>\n  </div>',document.body.append(t.content.cloneNode(!0))}